"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AppHttpConfig_1 = require("../config/AppHttpConfig");
var RestFactory_1 = require("../rest/RestFactory");
var core_1 = require("@angular/core");
var operators_1 = require("rxjs/operators");
var IngredientService = /** @class */ (function () {
    function IngredientService(httpConfig, restFactory) {
        this._restWorker = restFactory.createRestWorker(httpConfig, "ingredients");
    }
    IngredientService.prototype.getIngredient = function (ingredientId) {
        var route = "" + ingredientId;
        return this._restWorker.get(route).pipe(operators_1.map(function (body) {
            return body && body.data || null;
        }));
    };
    IngredientService.prototype.searchIngredients = function (search, userId) {
        return this._restWorker.get("", "search=" + search, "userId=" + userId).pipe(operators_1.map(function (body) {
            return body && body.data || null;
        }));
    };
    IngredientService = __decorate([
        core_1.Injectable(),
        __metadata("design:paramtypes", [AppHttpConfig_1.AppHttpConfig,
            RestFactory_1.RestFactory])
    ], IngredientService);
    return IngredientService;
}());
exports.IngredientService = IngredientService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW5ncmVkaWVudFNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJJbmdyZWRpZW50U2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlEQUF3RDtBQUV4RCxtREFBa0Q7QUFHbEQsc0NBQTJDO0FBRTNDLDRDQUFxQztBQUdyQztJQUdJLDJCQUNJLFVBQXlCLEVBQ3pCLFdBQXdCO1FBRXhCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDLGdCQUFnQixDQUMzQyxVQUFVLEVBQ1YsYUFBYSxDQUNoQixDQUFDO0lBQ04sQ0FBQztJQUVNLHlDQUFhLEdBQXBCLFVBQXFCLFlBQW9CO1FBQ3JDLElBQU0sS0FBSyxHQUFXLEtBQUcsWUFBYyxDQUFDO1FBQ3hDLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUNuQyxlQUFHLENBQUMsVUFBQyxJQUFTO1lBQ1YsT0FBTyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQ0wsQ0FBQztJQUNOLENBQUM7SUFFTSw2Q0FBaUIsR0FBeEIsVUFBeUIsTUFBYyxFQUFFLE1BQWM7UUFDbkQsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsWUFBVSxNQUFRLEVBQUUsWUFBVSxNQUFRLENBQUMsQ0FBQyxJQUFJLENBQ3hFLGVBQUcsQ0FBQyxVQUFDLElBQVM7WUFDVixPQUFPLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FDTCxDQUFDO0lBQ04sQ0FBQztJQTVCUSxpQkFBaUI7UUFEN0IsaUJBQVUsRUFBRTt5Q0FLTyw2QkFBYTtZQUNaLHlCQUFXO09BTG5CLGlCQUFpQixDQTZCN0I7SUFBRCx3QkFBQztDQUFBLEFBN0JELElBNkJDO0FBN0JZLDhDQUFpQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcEh0dHBDb25maWcgfSBmcm9tIFwiLi4vY29uZmlnL0FwcEh0dHBDb25maWdcIjtcclxuaW1wb3J0IHsgSUluZ3JlZGllbnQgfSBmcm9tIFwiLi4vbW9kZWxzL2ludGVyZmFjZXMvSUluZ3JlZGllbnRcIjtcclxuaW1wb3J0IHsgUmVzdEZhY3RvcnkgfSBmcm9tIFwiLi4vcmVzdC9SZXN0RmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBSZXN0V29ya2VyIH0gZnJvbSBcIi4uL3Jlc3QvUmVzdFdvcmtlclwiO1xyXG5pbXBvcnQgeyBJSW5ncmVkaWVudFNlcnZpY2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL0lJbmdyZWRpZW50U2VydmljZVwiO1xyXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7IG1hcCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgSW5ncmVkaWVudFNlcnZpY2UgaW1wbGVtZW50cyBJSW5ncmVkaWVudFNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVzdFdvcmtlcjogUmVzdFdvcmtlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXHJcbiAgICAgICAgaHR0cENvbmZpZzogQXBwSHR0cENvbmZpZyxcclxuICAgICAgICByZXN0RmFjdG9yeTogUmVzdEZhY3RvcnlcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuX3Jlc3RXb3JrZXIgPSByZXN0RmFjdG9yeS5jcmVhdGVSZXN0V29ya2VyKFxyXG4gICAgICAgICAgICBodHRwQ29uZmlnLFxyXG4gICAgICAgICAgICBcImluZ3JlZGllbnRzXCJcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbmdyZWRpZW50KGluZ3JlZGllbnRJZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxJSW5ncmVkaWVudD4ge1xyXG4gICAgICAgIGNvbnN0IHJvdXRlOiBzdHJpbmcgPSBgJHtpbmdyZWRpZW50SWR9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdFdvcmtlci5nZXQocm91dGUpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgoYm9keTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keSAmJiBib2R5LmRhdGEgfHwgbnVsbDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZWFyY2hJbmdyZWRpZW50cyhzZWFyY2g6IHN0cmluZywgdXNlcklkOiBudW1iZXIpOiBPYnNlcnZhYmxlPElJbmdyZWRpZW50W10+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdFdvcmtlci5nZXQoXCJcIiwgYHNlYXJjaD0ke3NlYXJjaH1gLCBgdXNlcklkPSR7dXNlcklkfWApLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcCgoYm9keTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keSAmJiBib2R5LmRhdGEgfHwgbnVsbDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiJdfQ==